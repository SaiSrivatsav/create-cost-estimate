//@ui5-bundle re/fin/createcostestimate/Component-preload.js
sap.ui.require.preload({
	"re/fin/createcostestimate/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","re/fin/createcostestimate/model/models"],(e,t)=>{"use strict";return e.extend("re.fin.createcostestimate.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize()}})});
},
	"re/fin/createcostestimate/controller/App.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("re.fin.createcostestimate.controller.App",{onInit(){}})});
},
	"re/fin/createcostestimate/controller/Main.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageBox","sap/ui/core/BusyIndicator","sap/ui/table/Column","sap/m/Label","sap/m/Text","sap/m/MessageToast","re/fin/createcostestimate/model/formatter"],(e,t,s,a,i,r,o,n,l,g,c,d)=>{"use strict";return e.extend("re.fin.createcostestimate.controller.Main",{formatter:d,onInit(){this.oRouter=this.getOwnerComponent().getRouter();this.oRouter.getRoute("RouteMain").attachPatternMatched(this.onRouteMatched,this)},onRouteMatched(e){var t={material:"MT-00001",materialName:"Material name text",plant:"3241",plantName:"Plant name text",costingFromDate:new Date,costingToDate:new Date};var a=new s(t);this.getView().setModel(a,"CreateModel");let i=new s;this.getView().setModel(i,"ProgressModel");this.getView().byId("refin-idRefresh").firePress()},async onRefresh(e){n.show();const t=this.getOwnerComponent().getManifestObject().resolveUri(this.getOwnerComponent().getManifestEntry("sap.app").dataSources.mainService.uri);try{const e=await fetch(t+"/CostEstimateLog");if(!e.ok){let t=await e.text()}else{const t=await e.json();this.cloudRecords=t.value;this.getView().getModel("Records").setData(this.cloudRecords);this.getView().getModel("Records").refresh()}let s=this.getView().byId("refin-idMainTable").getItems();for(let e=0;e<s.length;e++){const t=s[e];switch(t.getCells()[5].getText()){case"SUCCESS":t.getCells()[5].setIcon("sap-icon://verified");t.getCells()[5].setState("Success");t.setType("Inactive");break;case"COMPLETED":t.getCells()[5].setIcon("sap-icon://complete");t.getCells()[5].setState("Information");t.setType("Inactive");break;case"ERROR":t.getCells()[5].setIcon("sap-icon://status-error");t.getCells()[5].setState("Error");t.getCells()[5].setType("Navigation");break;case"SUBMITTED":t.getCells()[5].setIcon("sap-icon://in-progress");t.getCells()[5].setState("Warning");t.setType("Inactive");break;case"CANCELLED":t.getCells()[5].setIcon("sap-icon://cancel");t.getCells()[5].setState("Indication02");t.setType("Inactive");break;default:break}}n.hide()}catch(e){n.hide()}},onItemNavigate(e){},onCreateCostEstimate(e){var t=this.getView();if(this.oCreateDialog){this.oCreateDialog=undefined}if(!this.oCreateDialog){this.oCreateDialog=a.load({id:t.getId(),controller:this,name:"re.fin.createcostestimate.view.fragments.CreateDialog"}).then(e=>{t.addDependent(e);return e})}this.oCreateDialog.then(function(e){e.open()})},async onSubmit(e){let t=this.submitPreChecks();if(t){let e=[{executionId:"CREATE-COST-EST",executionCompleted:false,active:false,operation:"Creating Cost Estimate",operationStatus:"Processing"},{executionId:"CLOUD-INSERT-NEW",executionCompleted:false,active:false,operation:"Updating data to cloud",operationStatus:"Pending"}];this.getView().getModel("ProgressModel").setData(e);this.getView().getDependents()[0].destroy();this.showProgressDialog();try{const t=await this.createCostEstimate();e[0].executionCompleted=true;e[0].operationStatus="DONE";e[0].active=false;e[1].operationStatus="Processing";e[1].active=true;this.getView().getModel("ProgressModel").setData(e);this.getView().getModel("ProgressModel").refresh();this.setProgressTabProps();const s="CREATE";const a=await this.activateCloudOperation(s);if(a){e[1].executionCompleted=true;e[1].operationStatus="DONE";e[1].active=false;this.getView().getModel("ProgressModel").setData(e);this.getView().getModel("ProgressModel").refresh()}this.setProgressTabProps();this.getView().byId("refin-idCloseProgress").setVisible(true);this.getView().byId("refin-idRefresh").firePress()}catch(e){}}},setProgressTabProps(){let e=this.getView().getModel("ProgressModel").getData();const t=this.getView().byId("refin-idProgressTable").getItems();for(let s=0;s<t.length;s++){let a=t[s];if(e[s].executionCompleted){a.getCells()[1].removeStyleClass("mySpinningIcon");a.getCells()[1].setIcon("");a.getCells()[1].setState("Success")}else{if(e[s].active){a.getCells()[1].setIcon("sap-icon://synchronize");a.getCells()[1].addStyleClass("mySpinningIcon");a.getCells()[1].setState("Warning")}else{a.getCells()[1].setIcon("");a.getCells()[1].setState("None")}}}},activateCloudOperation(e){let t={referenceId:"4238718",material:this.getView().getModel("CreateModel").getData().material,materialName:"Material name text",plant:this.getView().getModel("CreateModel").getData().plant,plantName:"Plant name text",costingFromDate:this.getView().getModel("CreateModel").costingFromDate,costingToDate:this.getView().getModel("CreateModel").costingToDate,status:"ERROR",systemStatus:"SUCCESS",noOfErrors:2,errorLogs:[{referenceId:"0001",errorId:"E101",description:"Error test",message:"Error Message Test",assignedDepartment:"MDM",assignedOn:new Date,departmentMail:"mdm@re.com",resolutionStatus:"Pending"}]};const s=this.getOwnerComponent().getManifestObject().resolveUri(this.getOwnerComponent().getManifestEntry("sap.app").dataSources.mainService.uri);return new Promise(function(e,a){$.ajax(s+"/CostEstimateLog",{type:"POST",contentType:"application/json",data:JSON.stringify(t),success:t=>{e(t)},error:e=>{a(e)}})})},async createCostEstimate(e){return new Promise(e=>setTimeout(e,3e3))},submitPreChecks(){let e=this.checkMandatoryFields();let t=this.validateInputCheck();if(!e&&!t){return true}else{return false}},onProgressDialogClose(e){e.getSource().getParent().getParent().destroy()},showProgressDialog(){var e=this.getView();if(this.oProgressDialog){this.oProgressDialog=undefined}if(!this.oProgressDialog){this.oProgressDialog=a.load({id:e.getId(),controller:this,name:"re.fin.createcostestimate.view.fragments.ProgressDialog"}).then(t=>{e.addDependent(t);return t})}this.oProgressDialog.then(function(e){const t=e.getAggregation("content")[0].getItems();e.getAggregation("content")[0].removeSelections(true);for(let e=0;e<t.length;e++){let s=t[e];if(e===0){s.getCells()[1].addStyleClass("mySpinningIcon");s.getCells()[1].setIcon("sap-icon://synchronize");s.getCells()[1].setState("Warning")}else{s.getCells()[1].setIcon("");s.getCells()[1].setState("None")}}e.open()})},validateInputCheck(){let e=false;return e},checkMandatoryFields(){let e=false;if(!this.getView().byId("refin-idCreateMaterial").getValue()){this.getView().byId("refin-idCreateMaterial").setValueState("Error");this.getView().byId("refin-idCreateMaterial").setValueStateText("Material is required");e=true}else{this.getView().byId("refin-idCreateMaterial").setValueState("None");this.getView().byId("refin-idCreateMaterial").setValueStateText("");e=false}if(!this.getView().byId("refin-idCreatePlant").getValue()){this.getView().byId("refin-idCreatePlant").setValueState("Error");this.getView().byId("refin-idCreatePlant").setValueStateText("Plant is required");e=true}else{this.getView().byId("refin-idCreatePlant").setValueState("None");this.getView().byId("refin-idCreatePlant").setValueStateText("");e=false}return e},onCancelDialog(e){e.getSource().getParent().getParent().destroy()}})});
},
	"re/fin/createcostestimate/i18n/i18n.properties":'# This is the resource bundle for re.fin.createcostestimate\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Create Cost Estimate\n\n#YDES: Application description\nappDescription=Material Cost Estimate Application\n#XTIT: Main view title\ntitle=Create Cost Estimate\n\n#XFLD,60\nmatcostest-create.flpTitle=Create Cost Estimate\n\n#XFLD,33\nmatcostest-create.flpSubtitle=Application\n',
	"re/fin/createcostestimate/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"re.fin.createcostestimate","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.16.5","toolsId":"7f8ff7d6-6ec0-43d2-9456-77defcdb381a"},"dataSources":{"mainService":{"uri":"cost-estimate-tracker/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"matcostest-create":{"semanticObject":"matcostest","action":"create","title":"{{matcostest-create.flpTitle}}","subTitle":"{{matcostest-create.flpSubtitle}}","info":"Request Cost Esimation","icon":"sap-icon://request","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.133.0","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"re.fin.createcostestimate.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"Filter":{"type":"sap.ui.model.json.JSONModel","settings":{"defaultBindingMode":"TwoWay"},"preload":true,"uri":"model/filter-model.json"},"Records":{"type":"sap.ui.model.json.JSONModel","settings":{"defaultBindingMode":"TwoWay"},"preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"re.fin.createcostestimate.view"},"routes":[{"name":"RouteMain","pattern":":?query:","target":["TargetMain"]}],"targets":{"TargetMain":{"id":"Main","name":"Main"}}},"rootView":{"viewName":"re.fin.createcostestimate.view.App","type":"XML","id":"App"}},"sap.cloud":{"public":true,"service":"costest-router"}}',
	"re/fin/createcostestimate/model/formatter.js":function(){
sap.ui.define([],function(){"use strict";return{formatIcon:function(e){if(e==="SUCCESS"){return"sap-icon://verified"}else if(e==="COMPLETED"){return"sap-icon://complete"}else if(e==="ERROR"){return"sap-icon://status-error"}else if(e==="SUBMITTED"){return"sap-icon://in-progress"}else if(e==="CANCELLED"){return"sap-icon://cancel"}},formatState:function(e){if(e==="SUCCESS"){return"Indication03"}else if(e==="COMPLETED"){return"Success"}else if(e==="ERROR"){return"Error"}else if(e==="SUBMITTED"){return"Warning"}else if(e==="CANCELLED"){return"Indication02"}},formatMarkRelease:function(e){if(e==="SUCCESS"){return true}else{return false}}}});
},
	"re/fin/createcostestimate/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"re/fin/createcostestimate/view/App.view.xml":'<mvc:View controllerName="re.fin.createcostestimate.controller.App"\n    displayBlock="true"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><App id="app"></App></mvc:View>',
	"re/fin/createcostestimate/view/Main.view.xml":'<mvc:View xmlns:form="sap.ui.layout.form" controllerName="re.fin.createcostestimate.controller.Main" \n    xmlns:f="sap.f" \n    xmlns:core="sap.ui.core" \n    xmlns:filterbar="sap.ui.comp.filterbar" \n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><f:DynamicPage headerExpanded="true" backgroundDesign="Standard"><f:header><f:DynamicPageHeader><f:content><core:Fragment fragmentName="re.fin.createcostestimate.view.fragments.FilterBar" type="XML" /></f:content></f:DynamicPageHeader></f:header><f:content><core:Fragment fragmentName="re.fin.createcostestimate.view.fragments.CostEstimateTable" type="XML" /></f:content></f:DynamicPage></mvc:View>',
	"re/fin/createcostestimate/view/fragments/CostEstimateTable.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><core:FragmentDefinition xmlns:f="sap.f" \n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core" \n    xmlns:filterbar="sap.ui.comp.filterbar" \n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><Table id="refin-idMainTable" alternateRowColors="true" mode="MultiSelect"  inset="false" items="{Records>/}"><headerToolbar><OverflowToolbar ><Title text="Cost Estimate Records" level="H2"></Title><ToolbarSpacer /><Button id="refin-idCreate" text="Create" press="onCreateCostEstimate" icon="sap-icon://create-form" type="Emphasized"></Button><Button id="refin-idRefresh" press="onRefresh" icon="sap-icon://refresh"></Button><SearchField id="refin-idSearch" width="35%" placeholder="Search for a material / plant / status" liveChange="onLiveSearch"></SearchField><Button id="refin-idExport" icon="sap-icon://excel-attachment"><customData><BadgeCustomData id="refin-idExportBadge" key="badge" value="" visible="true"></BadgeCustomData></customData></Button></OverflowToolbar></headerToolbar><columns><Column ><Text id="refin-idReferenceId" text="Reference Id"></Text></Column><Column ><Text id="refin-idPlant" text="Plant"></Text></Column><Column ><Text id="refin-idMaterial" text="Material"></Text></Column><Column ><Text id="refin-idCostFromDate" text="Costing From Date"></Text></Column><Column ><Text id="refin-idCostToDate" text="Costing To Date"></Text></Column><Column ><Text id="refin-idStatus" text="Status"></Text></Column><Column ></Column></columns><noData><IllustratedMessage id="refin-idNoData"\n                                        illustrationType="sapIllus-SimpleEmptyList"\n                                        title="No cost estimate records to display"\n                                        description="Create a cost estimate to see your progress"></IllustratedMessage></noData><items><ColumnListItem vAlign="Middle" press="onItemNavigate" type="Navigation"><Text text="{Records>referenceId}"></Text><VBox><Text class="sapUiTinyMarginTop" text="{Records>plantName}"></Text><Text class="sapUiTinyMarginTopBottom" text="{Records>plant}"></Text></VBox><VBox><Text class="sapUiTinyMarginTop" text="{Records>materialName}"></Text><Text class="sapUiTinyMarginTopBottom" text="{Records>material}"></Text></VBox><Text text="{Records>costingFromDate}"></Text><Text text="{Records>costingToDate}"></Text><ObjectStatus  text="{Records>status}"                                       \n                                       ></ObjectStatus><Button id="refin-idMarkRelease" icon="sap-icon://locate-me" press="onMarkRelease" \n                                text="Mark &amp; Release" visible="true" type="Accept" ></Button></ColumnListItem></items></Table></core:FragmentDefinition>',
	"re/fin/createcostestimate/view/fragments/CreateDialog.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><core:FragmentDefinition xmlns:f="sap.f" \n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core" \n    xmlns:filterbar="sap.ui.comp.filterbar" \n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><Dialog id="refin-idCreateDialog" icon="" title="Create Cost Estimation" titleAlignment="Center" contentWidth="100%"><content><form:SimpleForm id="refin-idCreateForm" \n                        title="Input Required"\n                        editable="true"\n                        layout="ResponsiveGridLayout"\n                        labelSpanXL="4"\n                        labelSpanL="4"\n                        labelSpanM="12"\n                        labelSpanS="12"\n                        adjustLabelSpan="false"\n                        emptySpanXL="0"\n                        emptySpanL="0"\n                        emptySpanM="0"\n                        emptySpanS="0"\n                        columnsXL="2"\n                        columnsL="2"\n                        columnsM="1"\n                        \n                        singleContainerFullSize="false"><form:content><core:Title text="Material &amp; Plant Details"></core:Title><Label text="Material Number"></Label><HBox ><Input id="refin-idCreateMaterial" required="true" value="{CreateModel>/material}" showValueHelp="true" valueHelpRequest="onMaterialReq"></Input><Label class="sapUiTinyMargin" text="{CreateModel>/materialName}"></Label></HBox><Label text="Plant"></Label><HBox><Input id="refin-idCreatePlant" required="true" value="{CreateModel>/plant}" showValueHelp="true" valueHelpRequest="onPlantReq"></Input><Label class="sapUiTinyMargin" text="{CreateModel>/plantName}"></Label></HBox><core:Title text="Costing Data"></core:Title><Label text="Costing Variant"></Label><Input editable="false" value="PPC1" width="30%" maxLength="4"></Input><Label text="Costing Version"></Label><Input editable="false" value="001" width="20%" maxLength="3"></Input><Label text="Costing From Date"></Label><DatePicker id="refin-idCreateFromDate" width="50%" editable="false" value="{CreateModel>/costingFromDate}"></DatePicker><Label text="Costing To Date"></Label><DatePicker id="refin-idCreateToDate" width="50%" editable="false" value="{CreateModel>/costingToDate}"></DatePicker></form:content></form:SimpleForm></content><footer><OverflowToolbar ><ToolbarSpacer /><Button id="refin-idSubmit" text="Submit" type="Emphasized" press="onSubmit"></Button><Button id="refin-idCancelForm" press="onCancelDialog" text="Cancel" type="Default"></Button></OverflowToolbar></footer></Dialog></core:FragmentDefinition>',
	"re/fin/createcostestimate/view/fragments/FilterBar.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><core:FragmentDefinition xmlns:f="sap.f" \n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core" \n    xmlns:filterbar="sap.ui.comp.filterbar" \n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><filterbar:FilterBar><filterbar:filterGroupItems><filterbar:FilterGroupItem groupName="FilterGrp" name="Material" label="Material" visibleInFilterBar="true"><filterbar:control><Input id="refin-idMaterialFilter" value="{Filter>/material}" showValueHelp="true" valueHelpRequest="onMaterialReq"></Input></filterbar:control></filterbar:FilterGroupItem><filterbar:FilterGroupItem groupName="FilterGrp" name="Plant" label="Plant" visibleInFilterBar="true"><filterbar:control><Input id="refin-idPlantFilter" value="{Filter>/plant}" showValueHelp="true" valueHelpRequest="onPlantReq"></Input></filterbar:control></filterbar:FilterGroupItem><filterbar:FilterGroupItem groupName="FilterGrp" name="Date Range" label="Creation Date" visibleInFilterBar="true"><filterbar:control><DateRangeSelection id="refin-idDateRangeFilter"\n                                                        value="{\n                                                        \'type\': \'sap.ui.model.type.DateInterval\',\n                                                        \'formatOptions\': {\n                                                                \'pattern\': \'yyyy/MM/dd\'\n                                                            },\n                                                            \'parts\':[\n                                                                {\n                                                                    \'type\': \'sap.ui.model.type.Date\',\n                                                                    \'path\': \'{Filter>startDate}\'\n                                                                },\n                                                                {\n                                                                    \'type\': \'sap.ui.model.type.Date\',\n                                                                    \'path\': \'{Filter>endDate}\'\n                                                                }\n                                                            ]\n                                                        }"></DateRangeSelection></filterbar:control></filterbar:FilterGroupItem><filterbar:FilterGroupItem groupName="FilterGrp" name="Status" label="Status" visibleInFilterBar="true"><filterbar:control><ComboBox selectedKey="{Filter>/status}"><items><core:Item key="SUBMITTED" text="SUBMITTED"></core:Item><core:Item key="SUCCESS" text="SUCCESS"></core:Item><core:Item key="ERROR" text="ERROR"></core:Item><core:Item key="COMPLETED" text="COMPLETED"></core:Item></items></ComboBox></filterbar:control></filterbar:FilterGroupItem></filterbar:filterGroupItems></filterbar:FilterBar></core:FragmentDefinition>',
	"re/fin/createcostestimate/view/fragments/ProgressDialog.fragment.xml":'<?xml version="1.0" encoding="UTF-8"?><core:FragmentDefinition xmlns:f="sap.f" \n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core" \n    xmlns:filterbar="sap.ui.comp.filterbar" \n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"><Dialog title="Progress" titleAlignment="Center" contentWidth="30%"><content><Table mode="None" showSeparators="None" id="refin-idProgressTable" items="{ProgressModel>/}" class="sapUiMediumMarginTopBottom"><columns><Column hAlign="Begin"></Column><Column hAlign="End"></Column></columns><items><ColumnListItem type="Inactive"><Text text="{ProgressModel>operation}" ></Text><ObjectStatus text="{ProgressModel>operationStatus}" inverted="true" state="None" ></ObjectStatus></ColumnListItem></items></Table></content><footer><OverflowToolbar ><ToolbarSpacer ></ToolbarSpacer><Button id="refin-idCloseProgress" press="onProgressDialogClose" text="Close" visible="false"></Button></OverflowToolbar></footer></Dialog></core:FragmentDefinition>'
});
//# sourceMappingURL=Component-preload.js.map
